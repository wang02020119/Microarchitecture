Wrtie combine

store操作需要更新核心私有缓存、最后级缓存（LLC），并可能更新主内存。

通过使用写合并（WC），CPU会临时将存储操作的数据保存在内buffer中，直到所有修改该缓存行的数据字节都可用为止。WC缓冲区可以是专门的组件（如在AMD CPU中实现的那样【1】），也可以是填充缓冲区的一部分（如在Intel CPU中【27】）。WC通常用于内存排序保证较弱的场景，例如用于图形卡的帧缓冲区，程序员通常将这些缓冲区视为只写存储器【22】。



Transynther技术

![image-20241013142922202](C:\Users\王佳顺\Desktop\周五学术日\Medusa\picture1.png)

3个阶段

- 阶段1：合成阶段，Transynther使用现有攻击的构建块来对其进行变异和组合，生成潜在的新攻击。
- 阶段2：评估阶段，Transynther执行合成阶段生成的代码，并评估该代码是否会导致数据泄漏。
- 阶段3：如果评估阶段成功，分类阶段会尝试通过性能计数器自动分类泄漏的来源。

在Transynther中在阶段2中设置两个池，一个池包含可能的加载操作，另一个池包含可能的加载目标：

- 加载操作。内存加载操作是将数据从内存地址加载到寄存器的操作。最简单的加载操作是将数据从内存地址移动（mov）到通用寄存器。

- 加载目标。加载目标是具有不同页表条目设置的虚拟地址

此外，Transynther创建一个受害者程序，该程序通过反复将已知数据加载和存储到不同的虚拟地址和内存类型中，向微架构buffer注入已知数据。该受害者程序可以是一个在兄弟CPU线程上运行的独立应用程序，或者通过时间切片方式在同一个线程上运行，例如使用多线程。

合成阶段（阶段1）Transynther随机选择、变异并组合用于步骤1和步骤2的构建块。Transynther随机选择一个操作（加载、存储或刷新）和一个来自加载目标池的地址。

Transynther还会在微架构准备阶段（步骤1）和导致故障的加载操作（步骤2）之间随机插入独立操作。例如，这些操作包括nops（无操作指令）、在无关寄存器上的ALU操作，以及其他架构性故障。这些指令会增加一定的时间差，从而提高在流水线中触发竞争条件的机会。



**mds 微架构漏洞 覆盖率引导**

覆盖率设计。pmu，